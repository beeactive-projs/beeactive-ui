<div class="mx-auto flex max-w-7xl flex-col gap-6 px-6 py-6 md:px-10 md:py-8">
    <header class="flex flex-col gap-4 md:flex-row md:items-center md:justify-between">
      <div class="space-y-1">
        <p class="text-xs uppercase tracking-[0.2em] text-secondary-500">Organizer Dashboard</p>
        <h1 class="font-heading text-2xl font-semibold text-secondary-900 md:text-3xl">
          Welcome back, {{ organizerName }}
        </h1>
        <p class="text-sm text-secondary-500">{{ subtitle }}</p>
      </div>
      <div class="flex flex-wrap gap-2">
        <p-button
          *ngFor="let action of quickActions; trackBy: trackByLabel"
          [label]="action.label"
          [icon]="action.icon"
          [severity]="action.severity"
          styleClass="!rounded-full"
        ></p-button>
      </div>
    </header>

    <section class="grid gap-4 sm:grid-cols-2 xl:grid-cols-4">
      <p-card *ngFor="let stat of stats; trackBy: trackByStat" styleClass="shadow-sm">
        <div class="flex items-start justify-between">
          <div>
            <p class="text-sm text-secondary-500">{{ stat.label }}</p>
            <div class="mt-2 text-2xl font-semibold text-secondary-900">{{ stat.value }}</div>
          </div>
          <div class="flex h-10 w-10 items-center justify-center rounded-xl bg-white shadow-sm">
            <i class="pi text-lg" [ngClass]="[stat.icon, stat.accent]"></i>
          </div>
        </div>
        <div class="mt-3 flex items-center justify-between text-xs text-secondary-500">
          <span>{{ stat.helper }}</span>
          <p-tag
            [value]="stat.trendLabel"
            [severity]="stat.trendSeverity"
            [icon]="stat.trendIcon"
            styleClass="!text-xs"
          ></p-tag>
        </div>
      </p-card>
    </section>

    <section class="grid gap-6 lg:grid-cols-3">
      <p-card styleClass="shadow-sm lg:col-span-2">
        <div class="flex flex-col gap-4">
          <div class="flex flex-wrap items-center justify-between gap-2">
            <div>
              <h2 class="text-lg font-semibold text-secondary-900">Upcoming Sessions</h2>
              <p class="text-sm text-secondary-500">Stay ahead of today and tomorrow.</p>
            </div>
            <p-button
              label="Manage Schedule"
              icon="pi pi-calendar-plus"
              severity="secondary"
              styleClass="!rounded-full"
            ></p-button>
          </div>
          <p-divider></p-divider>
          <p-table [value]="upcomingSessions" dataKey="title" styleClass="p-datatable-sm">
            <ng-template pTemplate="header">
              <tr>
                <th class="text-xs font-semibold uppercase text-secondary-500">Session</th>
                <th class="text-xs font-semibold uppercase text-secondary-500">Coach</th>
                <th class="text-xs font-semibold uppercase text-secondary-500">Attendance</th>
                <th class="text-xs font-semibold uppercase text-secondary-500">Status</th>
              </tr>
            </ng-template>
            <ng-template pTemplate="body" let-session>
              <tr>
                <td>
                  <div class="space-y-1">
                    <div class="font-medium text-secondary-900">{{ session.title }}</div>
                    <div class="text-xs text-secondary-500">
                      {{ session.time }} - {{ session.location }}
                    </div>
                  </div>
                </td>
                <td>
                  <div class="flex items-center gap-2">
                    <p-avatar [label]="session.coach[0]" shape="circle"></p-avatar>
                    <div class="text-sm text-secondary-700">{{ session.coach }}</div>
                  </div>
                </td>
                <td>
                  <div class="flex items-center gap-2">
                    <p-progressBar
                      [value]="session.occupancy"
                      [showValue]="false"
                      styleClass="h-2 w-28"
                    ></p-progressBar>
                    <span class="text-xs text-secondary-500">
                      {{ session.attendees }}/{{ session.capacity }}
                    </span>
                  </div>
                </td>
                <td>
                  <p-tag
                    [value]="session.status"
                    [severity]="session.statusSeverity"
                    styleClass="!text-xs"
                  ></p-tag>
                </td>
              </tr>
            </ng-template>
          </p-table>
        </div>
      </p-card>

      <div class="flex flex-col gap-6">
        <p-card styleClass="shadow-sm">
          <div class="flex items-center justify-between">
            <div>
              <h2 class="text-lg font-semibold text-secondary-900">Team Availability</h2>
              <p class="text-sm text-secondary-500">Coach workload and availability.</p>
            </div>
            <p-button
              icon="pi pi-users"
              severity="secondary"
              styleClass="!rounded-full"
              ariaLabel="View team"
            ></p-button>
          </div>
          <p-divider></p-divider>
          <div class="space-y-4">
            <div
              *ngFor="let member of teamHighlights; trackBy: trackByMember"
              class="flex items-center justify-between"
            >
              <div class="flex items-center gap-3">
                <p-avatar [label]="member.name[0]" shape="circle"></p-avatar>
                <div>
                  <div class="text-sm font-medium text-secondary-900">{{ member.name }}</div>
                  <div class="text-xs text-secondary-500">{{ member.role }}</div>
                </div>
              </div>
              <div class="text-right">
                <p-tag
                  [value]="member.status"
                  [severity]="member.statusSeverity"
                  styleClass="!text-xs"
                ></p-tag>
                <div class="text-xs text-secondary-500">{{ member.availability }}</div>
              </div>
            </div>
          </div>
        </p-card>

        <p-card styleClass="shadow-sm">
          <div class="flex items-center justify-between">
            <div>
              <h2 class="text-lg font-semibold text-secondary-900">Top Programs</h2>
              <p class="text-sm text-secondary-500">Performance by occupancy.</p>
            </div>
            <p-badge value="3" severity="info"></p-badge>
          </div>
          <p-divider></p-divider>
          <div class="space-y-4">
            <div *ngFor="let program of topPrograms; trackBy: trackByProgram" class="space-y-2">
              <div class="flex items-center justify-between text-sm">
                <span class="font-medium text-secondary-900">{{ program.name }}</span>
                <span class="text-secondary-500">{{ program.revenue }}</span>
              </div>
              <p-progressBar
                [value]="program.occupancy"
                [showValue]="false"
                styleClass="h-2"
              ></p-progressBar>
            </div>
          </div>
        </p-card>
      </div>
    </section>

    <section class="grid gap-6 lg:grid-cols-3">
      <p-card styleClass="shadow-sm lg:col-span-2">
        <div class="flex flex-wrap items-center justify-between gap-2">
          <div>
            <h2 class="text-lg font-semibold text-secondary-900">Today's Focus</h2>
            <p class="text-sm text-secondary-500">Keep the studio running smoothly.</p>
          </div>
          <p-button label="Open Task Board" icon="pi pi-check-square" severity="secondary"></p-button>
        </div>
        <p-divider></p-divider>
        <div class="grid gap-4 md:grid-cols-2">
          <div class="rounded-2xl border border-secondary-200 bg-white p-4">
            <div class="flex items-center justify-between">
              <div class="text-sm font-semibold text-secondary-900">Client Follow-ups</div>
              <p-tag value="7 due" severity="warn"></p-tag>
            </div>
            <p class="mt-2 text-xs text-secondary-500">
              Reach out to trial members before they churn.
            </p>
            <p-button
              label="Review List"
              icon="pi pi-phone"
              severity="primary"
              styleClass="mt-3 !rounded-full"
            ></p-button>
          </div>
          <div class="rounded-2xl border border-secondary-200 bg-white p-4">
            <div class="flex items-center justify-between">
              <div class="text-sm font-semibold text-secondary-900">Marketing Assets</div>
              <p-tag value="2 drafts" severity="info"></p-tag>
            </div>
            <p class="mt-2 text-xs text-secondary-500">
              Approve new promo assets for the March campaign.
            </p>
            <p-button
              label="View Drafts"
              icon="pi pi-images"
              severity="secondary"
              styleClass="mt-3 !rounded-full"
            ></p-button>
          </div>
        </div>
      </p-card>

      <p-card styleClass="shadow-sm">
        <div class="flex items-center justify-between">
          <div>
            <h2 class="text-lg font-semibold text-secondary-900">Alerts & Updates</h2>
            <p class="text-sm text-secondary-500">Last 48 hours.</p>
          </div>
          <p-button
            icon="pi pi-bell"
            severity="secondary"
            styleClass="!rounded-full"
            ariaLabel="View alerts"
          ></p-button>
        </div>
        <p-divider></p-divider>
        <div class="space-y-4">
          <div *ngFor="let alert of alerts; trackBy: trackByAlert" class="flex items-start gap-3">
            <div class="flex h-9 w-9 items-center justify-center rounded-xl bg-secondary-100">
              <i class="pi text-secondary-700" [ngClass]="alert.icon"></i>
            </div>
            <div>
              <div class="flex items-center gap-2">
                <div class="text-sm font-medium text-secondary-900">{{ alert.title }}</div>
                <p-tag
                  [severity]="alert.severity"
                  [value]="alert.tag"
                  styleClass="!px-2 !py-0 !text-[10px]"
                ></p-tag>
              </div>
              <p class="text-xs text-secondary-500">{{ alert.description }}</p>
              <div class="text-xs text-secondary-400">{{ alert.time }}</div>
            </div>
          </div>
        </div>
      </p-card>
    </section>
</div>

