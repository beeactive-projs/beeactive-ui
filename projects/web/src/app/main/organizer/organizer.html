<!-- Mobile overlay -->
@if (sidebarOpen()) {
<div class="fixed inset-0 z-40 bg-black/50 lg:hidden" (click)="closeSidebar()" role="presentation"></div>
}

<!-- Sidebar -->
<aside
  class="fixed top-0 left-0 z-50 flex h-full w-60 flex-col border-r border-secondary-200 bg-white transition-transform lg:translate-x-0"
  [class.-translate-x-full]="!sidebarOpen()" [class.translate-x-0]="sidebarOpen()">
  <!-- Logo -->
  <div class="flex h-16 items-center gap-2 px-5">
    <div class="flex h-10 w-10 items-center justify-center rounded-xl bg-primary-500 shadow-md">
      <i class="pi pi-bolt text-xl text-white"></i>
    </div>
    <span class="font-heading text-xl font-bold text-secondary-900">BeeActive</span>
  </div>

  <!-- Navigation -->
  <nav class="flex flex-1 flex-col gap-6 overflow-y-auto px-3 py-4" aria-label="Sidebar navigation">
    <!-- Main group -->
    <div>
      <p class="mb-2 px-2 text-[11px] font-semibold uppercase tracking-wider text-secondary-400">
        Main
      </p>
      <ul class="flex flex-col gap-1">
        @for (item of mainNav; track item.label) {
        <li>
          <a [routerLink]="item.routerLink" routerLinkActive="bg-primary-50 text-primary-700 font-semibold"
            (click)="closeSidebar()"
            class="flex items-center gap-3 rounded-lg px-3 py-2.5 text-sm text-secondary-700 transition-colors hover:bg-secondary-100">
            <i [class]="item.icon + ' text-base'"></i>
            {{ item.label }}
          </a>
        </li>
        }
      </ul>
    </div>

    <!-- Tools group -->
    <div>
      <p class="mb-2 px-2 text-[11px] font-semibold uppercase tracking-wider text-secondary-400">
        Tools
      </p>
      <ul class="flex flex-col gap-1">
        @for (item of toolsNav; track item.label) {
        <li>
          <a [routerLink]="item.routerLink" routerLinkActive="bg-primary-50 text-primary-700 font-semibold"
            (click)="closeSidebar()"
            class="flex items-center gap-3 rounded-lg px-3 py-2.5 text-sm text-secondary-700 transition-colors hover:bg-secondary-100">
            <i [class]="item.icon + ' text-base'"></i>
            {{ item.label }}
          </a>
        </li>
        }
      </ul>
    </div>
  </nav>
</aside>

<!-- Main content area -->
<div class="lg:pl-60">
  <!-- Toolbar -->
  <header
    class="sticky top-0 z-30 flex h-16 items-center justify-between border-b border-secondary-200 bg-white px-4 md:px-6">
    <div class="flex items-center gap-3">
      <!-- Mobile hamburger -->
      <p-button icon="pi pi-bars" [text]="true" severity="secondary" (onClick)="toggleSidebar()"
        ariaLabel="Toggle sidebar" styleClass="lg:!hidden" />
      <h1 class="text-lg font-semibold text-secondary-900">{{ pageTitle() }}</h1>
    </div>

    <div class="flex items-center gap-3">
      <!-- Search -->
      <p-iconfield class="hidden md:block">
        <p-inputicon styleClass="pi pi-search" />
        <input type="text" pInputText placeholder="Search clients, sessions..."
          class="!rounded-full !bg-secondary-50 !py-2 !text-sm" />
      </p-iconfield>

      <!-- Notifications -->
      <p-button icon="pi pi-bell" [text]="true" [rounded]="true" severity="secondary" ariaLabel="Notifications"
        badge="2" badgeSeverity="danger" />
    </div>
  </header>

  <!-- Page content -->
  <main class="min-h-[calc(100vh-4rem)] bg-secondary-50">
    <router-outlet />
  </main>
</div>