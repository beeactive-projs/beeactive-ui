<!-- ===== Hero Section ===== -->
<section class="blog-hero-section">
  <div class="relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 sm:py-24 text-center">
    <div class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-accent-400/15 mb-4">
      <i class="pi pi-book text-accent-300 text-sm"></i>
      <span class="text-sm font-semibold text-accent-300">Blog</span>
    </div>

    <h1 class="text-4xl sm:text-5xl lg:text-6xl font-heading font-extrabold text-white leading-tight mb-5">
      Stories from the <span class="text-brand">hive</span>.
    </h1>

    <p class="text-lg sm:text-xl text-secondary-400 max-w-2xl mx-auto leading-relaxed">
      What we're building, why we're building it, and everything we learn along the way.
    </p>
  </div>
</section>

<!-- ===== Featured Post ===== -->
<section class="featured-section py-12 sm:py-16">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    @if (featuredPost(); as featured) {
    <a [routerLink]="['/blog', featured.slug]" class="featured-card"
      [attr.aria-label]="'Read featured article: ' + featured.title">
      <!-- Cover Image -->
      <div class="featured-card__image-wrap">
        <img [src]="featured.coverImage" [alt]="featured.title" class="featured-card__image" loading="eager" width="800"
          height="450" />
        <span class="featured-badge">Featured</span>
      </div>

      <!-- Content -->
      <div class="featured-card__content">
        <div class="flex items-center gap-3 mb-4 flex-wrap">
          <span class="category-badge">{{ featured.category }}</span>
          <span class="text-sm section-subtext">{{ featured.publishedAt | date: 'mediumDate'}}</span>
          <span class="text-sm section-subtext">
            <i class="pi pi-clock mr-1"></i>{{ featured.readTime }} min read
          </span>
        </div>

        <h2
          class="text-2xl sm:text-3xl font-heading font-extrabold section-heading mb-4 leading-tight group-hover:text-brand transition-colors">
          {{ featured.title }}
        </h2>

        <p class="section-subtext leading-relaxed mb-6 line-clamp-3">
          {{ featured.excerpt }}
        </p>

        <div class="flex items-center justify-between mt-auto">
          <div class="flex items-center gap-3">
            <div
              class="w-9 h-9 rounded-full bg-primary-500 flex items-center justify-center text-white font-bold text-xs"
              aria-hidden="true">
              {{ featured.authorInitials }}
            </div>
            <div>
              <p class="text-sm font-semibold section-heading">{{ featured.authorName }}</p>
            </div>
          </div>

          <span class="read-more-link">
            Read article <i class="pi pi-arrow-right ml-1 text-xs"></i>
          </span>
        </div>
      </div>
    </a>
    }
  </div>
</section>

<!-- ===== Posts Grid ===== -->
@if (gridPosts().length > 0) {
<section class="posts-section py-12 sm:py-16">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8">
      @for (post of gridPosts(); track post.id) {
      <a [routerLink]="['/blog', post.slug]" class="blog-card" [attr.aria-label]="'Read article: ' + post.title">
        <!-- Cover Image -->
        <div class="blog-card__image-wrap">
          <img [src]="post.coverImage" [alt]="post.title" class="blog-card__image" loading="lazy" width="800"
            height="450" />
        </div>

        <!-- Content -->
        <div class="blog-card__content">
          <div class="flex items-center gap-2 mb-3 flex-wrap">
            <span class="category-badge">{{ post.category }}</span>
            <span class="text-xs section-subtext">{{ post.readTime }} min read</span>
          </div>

          <h3
            class="text-lg font-heading font-bold section-heading mb-2 leading-snug group-hover:text-brand transition-colors line-clamp-2">
            {{ post.title }}
          </h3>

          <p class="text-sm section-subtext leading-relaxed line-clamp-3 mb-4">
            {{ post.excerpt }}
          </p>

          <div class="flex items-center gap-2 mt-auto pt-4 border-t border-secondary-100 dark:border-secondary-700/40">
            <div
              class="w-7 h-7 rounded-full bg-primary-500 flex items-center justify-center text-white font-bold text-xs"
              aria-hidden="true">
              {{ post.authorInitials }}
            </div>
            <div class="flex-1 min-w-0">
              <p class="text-xs font-semibold section-heading truncate">{{ post.authorName }}</p>
              <p class="text-xs section-subtext">{{ post.publishedAt | date: 'mediumDate' }}</p>
            </div>
          </div>
        </div>
      </a>
      }
    </div>
  </div>
</section>
}

<!-- ===== CTA Section ===== -->
<section class="blog-cta">
  <div class="relative z-10 max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-20 sm:py-28 text-center">
    <h2 class="text-3xl sm:text-4xl lg:text-5xl font-heading font-extrabold text-white leading-tight mb-6">
      Want to stay in the <span class="text-primary-300">loop</span>?
    </h2>
    <p class="text-lg sm:text-xl text-secondary-300 mb-10 max-w-2xl mx-auto">
      We're building BeeActive in the open. Follow along and be the first to know when the hive opens.
    </p>
    <div class="flex flex-col sm:flex-row gap-4 justify-center">
      <p-button label="Back to Home" icon="pi pi-arrow-left" routerLink="/"
        severity="warn" size="large" />
    </div>
  </div>
</section>
