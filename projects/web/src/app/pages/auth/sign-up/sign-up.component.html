<div class="min-h-screen flex">
  <div class="brand-panel hidden lg:flex w-1/2">
    <div class="honeycomb-bg"></div>
    <div class="orb orb-1"></div>
    <div class="orb orb-2"></div>
    <div class="orb orb-3"></div>

    <div class="brand-logo">
      <div class="brand-logo-icon bg-primary-500">
        <i class="pi pi-bolt text-white text-xl"></i>
      </div>
      <span class="font-heading text-2xl font-extrabold text-white tracking-tight">Logo</span>
    </div>

    <div class="brand-hero">
      <h2 class="font-heading text-5xl font-extrabold text-white leading-none tracking-tight mb-5">
        Join the<br>
        <span class="text-brand">movement.</span>
      </h2>
      <p class="text-secondary-400 text-base leading-relaxed max-w-100">
        Create your account and start tracking workouts, connecting with trainers, and crushing your goals.
      </p>
    </div>

    <div class="brand-stats"></div>

  </div>
  <div class="form-panel bg-surface-100 w-1/2">
    <div class="hex-decoration"></div>

    <div class="mobile-logo flex lg:hidden w-full">
      <div class="brand-logo-icon bg-primary-500">
        <i class="pi pi-bolt text-primary-contrast text-xl"></i>
      </div>
      <span class="font-heading text-2xl font-extrabold">Bee Active</span>
    </div>

    <div class="header w-full">
      <div class="mb-8 animate-slide-down">
        <h1 class="font-heading text-3xl font-bold mb-2">
          Create your account
        </h1>
        <p class="text-secondary-500 text-sm">
          Already have an account?
          <a routerLink="/auth/login" [queryParams]="route.snapshot.queryParams" class="text-primary-600 hover:text-primary-700 font-semibold transition-colors">
            Sign in
          </a>
        </p>
      </div>
    </div>
    <div class="form animate-fade-in w-full">

      <!-- Success Message -->
      @if (successMessage()) {
      <div class="mb-6">
        <p-message severity="success" styleClass="w-full">
          {{successMessage()}}
        </p-message>
      </div>
      }

      <!-- Error Message -->
      @if (errorMessage()) {
      <div class="mb-6">
        <p-message severity="error" styleClass="w-full">
          {{errorMessage()}}
        </p-message>
      </div>
      }

      <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="space-y-5">
        <!-- Name Fields -->
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
          <div class="flex flex-col gap-2">
            <label for="firstName" class="text-xs font-semibold text-secondary-500">
              First name
            </label>
            <input pInputText id="firstName" type="text" formControlName="firstName" placeholder="John" fluid
              pSize="large" [class.ng-dirty]="isFieldInvalid('firstName')" autocomplete="given-name"
              [attr.aria-invalid]="isFieldInvalid('firstName')"
              [attr.aria-describedby]="isFieldInvalid('firstName') ? 'firstName-error' : null" />
            @if (isFieldInvalid('firstName')) {
            <p-message variant="simple" severity="error" size="small">
              {{ getFieldError('firstName') }}
            </p-message>
            }
          </div>

          <div class="flex flex-col gap-2">
            <label for="lastName" class="text-xs font-semibold text-secondary-500">
              Last name
            </label>
            <input pInputText id="lastName" type="text" formControlName="lastName" placeholder="Doe" fluid pSize="large"
              [class.ng-dirty]="isFieldInvalid('lastName')" autocomplete="family-name"
              [attr.aria-invalid]="isFieldInvalid('lastName')"
              [attr.aria-describedby]="isFieldInvalid('lastName') ? 'lastName-error' : null" />
            @if (isFieldInvalid('lastName')) {
            <p-message variant="simple" severity="error" size="small">
              {{ getFieldError('lastName') }}
            </p-message>
            }
          </div>
        </div>

        <!-- Email Field -->
        <div class="flex flex-col gap-2">
          <label for="email" class="text-xs font-semibold text-secondary-500">
            Email address
          </label>
          <input pInputText id="email" type="email" formControlName="email" placeholder="you@example.com" fluid
            pSize="large" [class.ng-dirty]="isFieldInvalid('email')" autocomplete="email"
            [attr.aria-invalid]="isFieldInvalid('email')"
            [attr.aria-describedby]="isFieldInvalid('email') ? 'email-error' : null" />
          @if (isFieldInvalid('email')) {
          <p-message variant="simple" severity="error" size="small">
            {{ getFieldError('email') }}
          </p-message>
          }
        </div>

        <!-- Phone Field -->
        <div class="flex flex-col gap-2">
          <label for="phone" class="text-xs font-semibold text-secondary-500">
            Phone number
            <span class="text-secondary-400 font-normal ml-1">(Optional)</span>
          </label>
          <input pInputText id="phone" type="tel" formControlName="phone" placeholder="+1 (555) 123-4567" fluid
            pSize="large" [class.ng-dirty]="isFieldInvalid('phone')" autocomplete="tel"
            [attr.aria-invalid]="isFieldInvalid('phone')"
            [attr.aria-describedby]="isFieldInvalid('phone') ? 'phone-error' : null" />
          @if (isFieldInvalid('phone')) {
          <p-message variant="simple" severity="error" size="small">
            {{ getFieldError('phone') }}
          </p-message>
          }
        </div>

        <!-- Password Fields -->
        <!-- <div class="grid grid-cols-1 sm:grid-cols-2 gap-4"> -->
        <div class="flex flex-col gap-2">
          <label for="password" class="text-xs font-semibold text-secondary-500">
            Password
          </label>
          <p-password formControlName="password" inputId="password" placeholder="Min. 8 characters" fluid size="large"
            [toggleMask]="true" [feedback]="true" [class]="isFieldInvalid('password') ? 'ng-invalid ng-dirty' : ''"
            autocomplete="new-password" [attr.aria-required]="true" [attr.aria-invalid]="isFieldInvalid('password')"
            [attr.aria-describedby]="isFieldInvalid('password') ? 'password-error' : null" />
          @if (isFieldInvalid('password')) {
          <p-message variant="simple" severity="error" size="small">
            {{ getFieldError('password') }}
          </p-message>
          }
        </div>

        <!-- <div class="flex flex-col gap-2">
            <label for="confirmPassword" class="text-xs font-semibold text-secondary-500">
              Confirm password
            </label>
            <p-password formControlName="confirmPassword" inputId="confirmPassword" placeholder="Repeat password" fluid
              size="large" [toggleMask]="true" [feedback]="false"
              [class]="isFieldInvalid('confirmPassword') || hasPasswordMismatch() ? 'ng-invalid ng-dirty' : ''"
              autocomplete="new-password" [attr.aria-required]="true"
              [attr.aria-invalid]="isFieldInvalid('confirmPassword') || hasPasswordMismatch()"
              [attr.aria-describedby]="isFieldInvalid('confirmPassword') || hasPasswordMismatch() ? 'confirmPassword-error' : null" />
            @if (isFieldInvalid('confirmPassword')) {
            <p-message variant="simple" severity="error" size="small">
              {{ getFieldError('confirmPassword') }}
            </p-message>
            } @else if (hasPasswordMismatch()) {
            <p-message variant="simple" severity="error" size="small">
              Passwords do not match
            </p-message>
            }
          </div>
        </div>-->

        <!-- Terms and Conditions -->
        <!-- <div class="flex items-center gap-3">
          <p-checkbox formControlName="agreeToTerms" inputId="agreeToTerms" [binary]="true"
            [attr.aria-invalid]="isFieldInvalid('agreeToTerms')" />
          <label for="agreeToTerms" class="text-xs text-secondary-500 cursor-pointer select-none leading-relaxed">
            I agree to the
            <a routerLink="/legal/terms-of-service"
              class="text-primary-600 hover:text-primary-700 font-medium transition-colors">
              Terms of Service
            </a>
            and
            <a routerLink="/legal/privacy-policy"
              class="text-primary-600 hover:text-primary-700 font-medium transition-colors">
              Privacy Policy
            </a>
          </label>
        </div> -->
        <!-- @if (isFieldInvalid('agreeToTerms')) {
        <p-message variant="simple" severity="error" size="small">
          You must agree to the terms and conditions
        </p-message>
        } -->

        <!-- Submit Button -->
        <div class="flex flex-col">
          <p-button type="submit" [loading]="isLoading()" [disabled]="isLoading()" label="Create account"
            icon="pi pi-user-plus" iconPos="right" fluid size="large"></p-button>
        </div>
        <p-divider [align]="'center'" type="solid">
          or sign up with
        </p-divider>
        <div class="flex gap-3">
          <div class="social-btn-wrapper flex-1">
            <p-button type="button" styleClass="social-btn" label="Google" icon="pi pi-google" fluid
              size="large"></p-button>
            <div #googleBtn class="google-btn-overlay"></div>
          </div>
          <p-button type="button" class="flex-1" styleClass="social-btn" label="Facebook" icon="pi pi-facebook" fluid
            size="large" (onClick)="onFacebookLogin()"></p-button>
        </div>
      </form>
    </div>
  </div>
</div>